<div id="checkpoint">
    <div class="checkpoint">
    <div class="table-div"  *ngIf="!shouldRenderCheckpointForm">
        <div class="info-div">
            <div>
                <p class="subtitle">Tour info</p>
                <br>
                <label>Total distance in meters: </label><input type="text" disabled [ngModel]="distance">
            <br>
            <br>
            <label>Total required time for all checkpoints in seconds: </label><input type="text" disabled [ngModel]="calculateTimeForCheckpoints()">
            </div>
            <div id="tour">
                <button class="buttonAdd" mat-raised-button (click) = "onAddCheckpoint()">Add checkpoint ‚ûï</button>
                <br>
            </div>
        </div>
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Location</th>
                <th>Required time</th>
                <th>Picture</th>
                <th></th>
                <th></th>
            </tr>
    </thead>
    <tbody>
        <tr *ngFor="let c of checkpoints">
            <td>{{c.name}}</td>
            <td>{{c.description}}</td>
            <td>{{c.latitude.toFixed(2)}}, {{c.longitude.toFixed(2)}}</td>
            <td>{{(c.requiredTimeInSeconds/3600).toFixed(2)}}h {{(c.requiredTimeInSeconds%3600/60).toFixed(0)}}min</td>
            <td>
                <picture>
                    <img [src]="c.pictures[0]" alt="Checkpoint image" width="100" height="100">
                </picture>
            </td>
            <td>
                <button class="button-table" (click)="onEdit(c)" mat-raised-button>Edit‚úèÔ∏è</button>
            </td>
            <td>
                <button class="button-table" (click)="onDelete(c.id || 0)" mat-raised-button>DeleteüóëÔ∏è</button>
            </td>
        </tr>
    </tbody>
    </table>
    </div>
        <div class="transportation-div"  *ngIf="!shouldRenderCheckpointForm">
            <xp-tour-transport-form *ngIf="checkpoints.length >= 2" (changedSelection)="updateProfiles($event)" [tourID]="tourID"></xp-tour-transport-form>
        </div>
    </div>
    <div class="profile-div" *ngIf="!shouldRenderCheckpointForm">
        <label>Choose transportation:    </label>
            <select class="profile-select" [(ngModel)]="profile">
                <option *ngFor="let p of profiles" [ngValue]="p">{{p}}</option>
            </select><button class="button-route" (click)="route()" mat-raised-button>See route üìå</button>
    </div>
    <div>
        <xp-checkpoint-form *ngIf="shouldRenderCheckpointForm" [tourID]="tourID" [selectedCheckpoint]="selectedCheckpoint" (checkpointUpdated)="getCheckpoints()" [shouldEdit]="shouldEdit"></xp-checkpoint-form>
    </div>
</div>
    <div class="map-div" *ngIf="!shouldRenderCheckpointForm">
        <xp-map class="map-div" (timeAndDistance) ="getTimeAndDistance($event)"></xp-map>
    </div>
    <div class="navigation-div" *ngIf="!shouldRenderCheckpointForm">
        <button class="button" (click)="onBack()" mat-raised-button>Back</button>
        <button class="button" (click)="onNext()" mat-raised-button>Finish</button>
    </div>
