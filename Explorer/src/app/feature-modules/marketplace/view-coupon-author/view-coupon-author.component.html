<div>
    <button id="create-coupon-button" (click)="onCreateCoupnClick()">Create coupon</button>
    <div id="coupons-div">
        <ul class="coupons-list">
            <li *ngFor="let c of coupons">
                <div class="coupons-card">
                    <div>Coupon:</div>
                    <div class="coupon-div">
                        <div>
                            <div class="label-data-div">
                                <div>Code:</div>
                                <div class="data-div">{{ c.code }}</div>
                            </div>
                            <div class="label-data-div">
                                <div>Discount percentage:</div>
                                <div class="data-div">{{ c.discountPercentage }}%</div>
                            </div>
                            <div class="label-data-div">
                                <div>Expiration date:</div>
                                <div class="data-div">{{ c.expirationDate | date: 'dd.MM.yyyy. HH:mm'}}</div>
                            </div>
                            <div class="label-data-div">
                                <div>Is global:</div>
                                <div class="data-div">{{ c.isGlobal }}</div>
                            </div>
                        </div>
                        <div class="coupon-buttons">
                            <div>
                                <button (click)="editCoupon(c)">Edit</button>
                            </div>
                            <div>
                                <button  (click)="deleteCoupons(c.id)">Delete</button>
                            </div>
                        </div>
                    </div>
                </div>
            </li>
        </ul>
    </div>


    
    <div>
        <div id="create-coupon-div">
            <form id="create-coupon-form" (ngSubmit)="updateCoupon()">
                <fieldset id="create-coupon-fieldset">
                    <legend>Update coupon</legend>
        
                    <label for="discount-percentage">Discount percentage:</label>
                    <input id="discount-percentage" type="number" step="10" min="0" max="100" required [(ngModel)]="discountPercentage" name="discountPercentage">
        
                    <label for="expiration-date">Expiration date:</label>
                    <input id="expiration-date"  type="date" required [ngModel]="expirationDate | date:'yyyy-MM-dd'" (ngModelChange)="expirationDate = $event" name="expirationDate">
        
                    <div class="checkbox-container">
                        <input id="is-global" type="checkbox" [(ngModel)]="isGlobal" name="isGlobal">
                        <label id="is-global-label" for="is-global">Is global</label>
                    </div>
        
                    <!-- Add available tours -->
                    <div id="available-tours-div" *ngIf="!isGlobal">
                        <label>Available tours:</label>
                        <ul>
                            <li class="tour-name" *ngFor="let t of tours"> 
                                <div class="radio-container">
                                    <input id="input-radio" type="radio" name="selectedTour" [(ngModel)]="selectedTourId" [value]="t.id">
                                    <label id="label-radio" for="input-radio">{{t.name}}</label>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <input id="submit-button" type="submit" value="Update">
                </fieldset>
            </form>
        </div>
    </div>

</div>
